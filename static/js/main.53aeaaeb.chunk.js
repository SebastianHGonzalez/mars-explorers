(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,n){e.exports=n(81)},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),o=n.n(c),u=n(9),s=n(22),i=n(10),l=n(7),f=n(43),v=n(49),h=n(14),m=n.n(h),d=n(12),p=n(19),b=n(23),g=n(44),E=n(11),j=new E.b.Entity("cameras",{},{idAttribute:"name"}),O=new E.b.Entity("rovers",{cameras:[j]}),w=new E.b.Entity("photos",{camera:j,rover:O}),y=new E.b.Object({rovers:new E.b.Array(O),photos:new E.b.Array(w)}),k=Object(g.create)({baseURL:"https://api.nasa.gov/mars-photos/api/v1/"}),x={fetch:function(){return k.get("/rovers",{params:{api_key:"DEMO_KEY"}}).then(function(e){return e.data}).then(function(e){return Object(E.a)(e,y)})}};var S=m.a.mark(R),C=m.a.mark(T),q={fetch:{request:"rovers/fetch/request",start:"rovers/fetch/start",success:"rovers/fetch/success",error:"rovers/fetch/error"}},I={fetch:{request:function(){return{type:q.fetch.request}},start:function(){return{type:q.fetch.start}},success:function(e){var t=e.entities;return Object(b.a)({type:q.fetch.success},t)},error:function(){return{type:q.fetch.error}}}};function R(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.d)(q.fetch.request,T)]);case 2:case"end":return e.stop()}},S)}function T(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)(I.fetch.start());case 2:return e.prev=2,e.t0=d.c,e.t1=I.fetch,e.next=7,Object(d.b)(x.fetch);case 7:return e.t2=e.sent,e.t3=e.t1.success.call(e.t1,e.t2),e.next=11,(0,e.t0)(e.t3);case 11:e.next=17;break;case 13:return e.prev=13,e.t4=e.catch(2),e.next=17,Object(d.c)(I.fetch.error(e.t4));case 17:case"end":return e.stop()}},C,null,[[2,13]])}function _(e){return Object(l.combineReducers)({ids:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return n[e]?Array.from(new Set(t.concat(Object.keys(n[e])))):t},byId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return n[e]?Object(b.a)({},t,n[e]):t},fetching:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"".concat(e,"/fetch/start"):return!0;case"".concat(e,"/fetch/success"):case"".concat(e,"/fetch/error"):return!1;default:return t}}})}var A={rovers:I},L={rovers:{}};L.rovers.state=function(e){return e.rovers},L.rovers.ids=Object(p.a)(L.rovers.state,function(e){return e.ids}),L.rovers.byId=Object(p.a)(L.rovers.state,function(e){return e.byId}),L.rovers.fetching=Object(p.a)(L.rovers.state,function(e){return e.fetching}),L.rovers.all=Object(p.a)(L.rovers.ids,L.rovers.byId,function(e,t){return e.map(function(e){return t[e]})});var B=m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([R()]);case 2:case"end":return e.stop()}},e)}),F=Object(l.combineReducers)({photos:_("photos"),rovers:_("rovers"),cameras:_("cameras")});function W(){var e=Object(v.a)(),t=[e],n=Object(l.createStore)(F,Object(f.composeWithDevTools)(l.applyMiddleware.apply(void 0,t)));return e.run(B),n}var D=n(26),J=n(13),M=function(){return a.a.createElement("h1",null,"Rover profile")},N=n(45),K=n.n(N);function U(){var e=Object(u.a)(["\n  color: white;\n  padding: 0.2rem 0.5rem;\n  border-radius: 0.5rem;\n"]);return U=function(){return e},e}var Y=i.a.span.attrs(function(e){return{style:{backgroundColor:"active"===e.children?"green":"red"}}})(U());Y.displayName="StatusBadge";var $=Y;function z(){var e=Object(u.a)(["\n  place-self: center;\n  grid-area: photo;\n"]);return z=function(){return e},e}function G(){var e=Object(u.a)(["\n  grid-area: info;\n  line-height: 1.5rem;\n"]);return G=function(){return e},e}function H(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  grid-area: heading;\n  font-weight: bold;\n"]);return H=function(){return e},e}function P(){var e=Object(u.a)(['\n  display: grid;\n  grid-template-columns: 1fr 4fr;\n  grid-template-areas: "photo heading" "photo info";\n  cursor: pointer;\n  padding: 1rem;\n  gap: 0 1rem;\n\n  :hover {\n    background-color: lightgrey;\n  }\n']);return P=function(){return e},e}var Q=i.a.li(P()),V=i.a.div(H()),X=i.a.p(G()),Z=i.a.div(z()),ee=function(e){var t=e.name,n=e.status,r=e.total_photos,c=e.landing_date,o=e.max_sol,u=e.onClick;return a.a.createElement(Q,{onClick:u},a.a.createElement(Z,null,"photo"),a.a.createElement(V,null,a.a.createElement("span",null,t),a.a.createElement($,null,n)),a.a.createElement(X,null,"Landed ",a.a.createElement("span",null,K()(c).fromNow()),".",a.a.createElement("br",null),"Captured ",a.a.createElement("span",null,r.toLocaleString())," photos.",a.a.createElement("br",null),"Saw ",a.a.createElement("span",null,o.toLocaleString())," suns.",a.a.createElement("br",null)))};var te=Object(s.b)(function(e){return{fetching:L.rovers.fetching(e),rovers:L.rovers.all(e)}},function(e){return{onClick:function(e){console.log(e)},fetch:function(){e(A.rovers.fetch.request())}}})(function(e){var t=e.fetch,n=(e.fetching,e.rovers),c=e.onClick;return Object(r.useEffect)(t,[t]),a.a.createElement(r.Fragment,null,a.a.createElement("ul",null,n.map(function(e){return a.a.createElement(ee,Object.assign({key:e.id},e,{onClick:function(){return c(e)}}))})))}),ne=function(){return a.a.createElement("h1",null,"about page")},re=function(){return a.a.createElement("h1",null,"Feed")},ae=n(50),ce=function(e){var t=e.redirectTo,n=e.afterSeconds,c=Object(r.useState)(""),o=Object(ae.a)(c,2),u=o[0],s=o[1];return Object(r.useEffect)(function(){var e=setTimeout(function(){s(t)},1e3*n);return function(){return clearTimeout(e)}},[t,n]),u&&n?a.a.createElement(J.a,{to:u}):a.a.createElement(r.Fragment,null,a.a.createElement("h1",null,"404 page not found"),t&&n&&a.a.createElement("h2",null,"Redirecting..."))},oe=function(){return a.a.createElement(D.a,null,a.a.createElement(J.d,null,a.a.createElement(J.b,{path:"/rovers/:id",component:M}),a.a.createElement(J.b,{path:"/rovers",component:te}),a.a.createElement(J.b,{path:"/about",component:ne}),a.a.createElement(J.b,{exact:!0,path:"/",component:re}),a.a.createElement(J.b,{path:"/",render:function(){return a.a.createElement(ce,{redirectTo:"/rovers",afterSeconds:5})}})))};function ue(){var e=Object(u.a)(["\n  font-family: sans-serif;\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n"]);return ue=function(){return e},e}var se=i.a.div(ue()),ie=function(){return a.a.createElement(se,null,a.a.createElement(s.a,{store:W()},a.a.createElement(oe,null)))};var le=function(){return a.a.createElement(ie,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.53aeaaeb.chunk.js.map